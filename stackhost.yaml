user:
  name: Japu
  github: Japu-Sahu

language: "python"
python_version: "3.10"

commands:
  build:
    - "apt-get update && apt-get install -y curl"
    - "curl -fsSL https://deb.nodesource.com/setup_20.x | bash -"
    - "apt-get install -y nodejs"
    - "mkdir -p /app/nodejs/bin"  # Ensure directory exists
    - "ln -sf $(which node) /app/nodejs/bin/node"  # Symlink Node.js
    - "pip install -r requirements.txt"
    - "touch /app/stackhost.log"  # ✅ Create log file at build time

  start:
    - "touch /app/stackhost.log"  # ✅ Ensure log file exists
    - "export PATH=$PATH:/app/nodejs/bin && exec python3 -m AnonXMusic"

env:
  - "ENVIRONMENT=production"
