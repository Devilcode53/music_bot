user:
  name: Japu
  github: Japu-Sahu

language: "python"
python_version: "3.10"

commands:
  build:
    - "apt-get update && apt-get install -y curl"
    - "curl -fsSL https://deb.nodesource.com/setup_20.x | bash -"
    - "apt-get install -y nodejs"
    - "mkdir -p /app/nodejs/bin"  # Ensure directory exists
    - "ln -sf $(which node) /app/nodejs/bin/node"  # Symlink Node.js
    - "echo 'export PATH=$PATH:/app/nodejs/bin' >> /etc/profile"  # Set PATH globally
    - "touch stackhost.log"  # Create the missing log file

  start:
    - "source /etc/profile && exec python3 -m AnonXMusic"

env:
  - "ENVIRONMENT=production"
